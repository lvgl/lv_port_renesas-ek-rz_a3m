/*******************************************************************************************************************//**
 * I2C control for RZ/A3M Board
 **********************************************************************************************************************/

/***********************************************************************************************************************
 * Includes
 **********************************************************************************************************************/
#include <stdio.h>
#include <stdlib.h>
#include "bsp_api.h"
#include "../inc/i2c_ctrl.h"

/***********************************************************************************************************************
 * Macro definitions
 **********************************************************************************************************************/

/***********************************************************************************************************************
 * Private constants
 **********************************************************************************************************************/


/***********************************************************************************************************************
 * Typedef definitions
 **********************************************************************************************************************/


/***********************************************************************************************************************
 * Private function prototypes
 **********************************************************************************************************************/


/***********************************************************************************************************************
 * Private global variables
 **********************************************************************************************************************/
static i2c_master_instance_t *p_i2c_ch0;
static i2c_master_instance_t *p_i2c_ch1;

/*******************************************************************************************************************//**
 * @addtogroup I2C_CTRL
 * @{
 **********************************************************************************************************************/

/***********************************************************************************************************************
 * Functions
 **********************************************************************************************************************/
void i2c_set_ch0_func(i2c_master_instance_t *p_i2c)
{
    p_i2c_ch0 = p_i2c;
}

void i2c_set_ch1_func(i2c_master_instance_t *p_i2c)
{
    p_i2c_ch1 = p_i2c;
}

i2c_master_instance_t *i2c_get_ch0_func(void)
{
    i2c_master_status_t stat;
    do{
        p_i2c_ch0->p_api->statusGet(p_i2c_ch0->p_ctrl, &stat);
    }while(stat.open);

    return p_i2c_ch0;
}

i2c_master_instance_t *i2c_get_ch1_func(void)
{
    i2c_master_status_t stat;

    do{
        p_i2c_ch1->p_api->statusGet(p_i2c_ch1->p_ctrl, &stat);
    }while(stat.open);

    return p_i2c_ch1;
}
/*******************************************************************************************************************//**
 * @} (end addtogroup I2C_CTRL)
 **********************************************************************************************************************/

/***********************************************************************************************************************
 * Private Functions
 **********************************************************************************************************************/
